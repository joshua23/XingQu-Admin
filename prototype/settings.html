<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜Ÿè¶£ - è®¾ç½®</title>
    <link rel="stylesheet" href="common-styles.css">
    <style>
        /* iPhone 15 Proå¤–è§‚æ ·å¼ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            background: #000000;
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
            overflow: hidden;
        }

        /* iPhone 15 Pro æœºèº«å®¹å™¨ */
        .iphone-container {
            position: relative;
            width: 393px;
            height: 852px;
            margin: 40px auto;
            background: #1f1f1f;
            border-radius: 55px;
            padding: 8px;
            box-shadow: 
                0 0 0 2px #333333,
                0 8px 30px rgba(0, 0, 0, 0.8),
                inset 0 0 0 1px rgba(255, 255, 255, 0.1);
        }

        /* iPhone 15 Pro å±å¹• */
        .iphone-screen {
            width: 100%;
            height: 100%;
            background: #000000;
            border-radius: 47px;
            overflow: hidden;
            position: relative;
        }

        /* Dynamic Island */
        .dynamic-island {
            position: absolute;
            top: 12px;
            left: 50%;
            transform: translateX(-50%);
            width: 126px;
            height: 37px;
            background: #000000;
            border-radius: 18px;
            z-index: 1000;
            border: 0.5px solid #333;
        }

        /* ç‰©ç†æŒ‰é”® */
        .power-button {
            position: absolute;
            right: -3px;
            top: 200px;
            width: 4px;
            height: 80px;
            background: #333333;
            border-radius: 2px 0 0 2px;
        }

        .volume-up {
            position: absolute;
            left: -3px;
            top: 160px;
            width: 4px;
            height: 50px;
            background: #333333;
            border-radius: 0 2px 2px 0;
        }

        .volume-down {
            position: absolute;
            left: -3px;
            top: 220px;
            width: 4px;
            height: 50px;
            background: #333333;
            border-radius: 0 2px 2px 0;
        }

        .action-button {
            position: absolute;
            left: -3px;
            top: 100px;
            width: 4px;
            height: 40px;
            background: #333333;
            border-radius: 0 2px 2px 0;
        }

        /* iOSçŠ¶æ€æ  */
        .status-bar {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 54px;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 30px 0 24px;
            font-size: 17px;
            font-weight: 600;
            color: #FFFFFF;
            z-index: 999;
        }

        .status-left {
            font-size: 17px;
            margin-top: 8px;
        }

        .status-right {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 17px;
            margin-top: 8px;
        }

        .battery {
            width: 27px;
            height: 13px;
            border: 1px solid #FFFFFF;
            border-radius: 3px;
            position: relative;
            margin-left: 2px;
        }

        .battery::after {
            content: '';
            position: absolute;
            right: -4px;
            top: 4px;
            width: 2px;
            height: 5px;
            background: #FFFFFF;
            border-radius: 0 1px 1px 0;
        }

        .battery-fill {
            background: #34C759;
            height: 100%;
            width: 80%;
            border-radius: 2px;
        }

        /* åº”ç”¨å†…å®¹åŒºåŸŸ */
        .app-container {
            position: absolute;
            top: 54px;
            left: 0;
            right: 0;
            bottom: 0;
            background: #000000;
            display: flex;
            flex-direction: column;
        }

        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .nav-header {
            background: rgba(0, 0, 0, 0.95);
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #1C1C1E;
            backdrop-filter: blur(20px);
            position: relative;
            z-index: 100;
        }

        .nav-title {
            color: #FFFFFF;
            font-size: 20px;
            font-weight: 700;
            text-align: center;
            flex: 1;
        }

        .nav-action {
            width: 32px;
            height: 32px;
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #FFC542;
            font-size: 16px;
            text-decoration: none;
        }

        .nav-action:hover {
            background: rgba(255, 197, 66, 0.2);
            transform: scale(1.1);
        }

        /* è®¾ç½®å†…å®¹å®¹å™¨ */
        .settings-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            background: #000000;
        }

        .settings-content {
            flex: 1;
            overflow-y: auto;
            padding: 0;
        }

        /* æœç´¢æ  */
        .search-container {
            padding: 16px 20px;
            background: rgba(0, 0, 0, 0.95);
            border-bottom: 1px solid #1C1C1E;
        }

        .search-box {
            background: #1C1C1E;
            border-radius: 12px;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s ease;
        }

        .search-box:focus-within {
            background: #2A2A2A;
            border: 1px solid #FFC542;
        }

        .search-icon {
            color: #8E8E93;
            font-size: 16px;
        }

        .search-input {
            flex: 1;
            background: transparent;
            border: none;
            color: #FFFFFF;
            font-size: 16px;
            outline: none;
        }

        .search-input::placeholder {
            color: #8E8E93;
        }

        /* ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ */
        .user-card {
            margin: 20px;
            padding: 20px;
            background: #1C1C1E;
            border-radius: 16px;
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 30px;
            background: linear-gradient(135deg, #FFC542, #F5DFAF);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #000000;
            flex-shrink: 0;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            color: #FFFFFF;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .user-status {
            color: #FFC542;
            font-size: 14px;
            margin-bottom: 4px;
        }

        .user-id {
            color: #8E8E93;
            font-size: 12px;
        }

        /* è®¾ç½®ç»„ */
        .settings-section {
            padding: 0 20px 20px 20px;
        }

        .section-title {
            color: #8E8E93;
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
            padding-left: 4px;
        }

        .settings-group {
            background: #1C1C1E;
            border-radius: 12px;
            overflow: hidden;
        }

        .setting-item {
            display: flex;
            align-items: center;
            padding: 16px;
            border-bottom: 1px solid #2A2A2A;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .setting-item:active {
            background: rgba(255, 255, 255, 0.1);
        }

        .setting-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            margin-right: 12px;
            flex-shrink: 0;
        }

        .setting-icon.default {
            background: rgba(255, 197, 66, 0.2);
            color: #FFC542;
        }

        .setting-icon.blue {
            background: rgba(0, 122, 255, 0.2);
            color: #007AFF;
        }

        .setting-icon.green {
            background: rgba(52, 199, 89, 0.2);
            color: #34C759;
        }

        .setting-icon.purple {
            background: rgba(175, 82, 222, 0.2);
            color: #AF52DE;
        }

        .setting-icon.red {
            background: rgba(255, 69, 58, 0.2);
            color: #FF453A;
        }

        .setting-icon.orange {
            background: rgba(255, 149, 0, 0.2);
            color: #FF9500;
        }

        .setting-content {
            flex: 1;
            min-width: 0;
        }

        .setting-title {
            color: #FFFFFF;
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 2px;
        }

        .setting-description {
            color: #8E8E93;
            font-size: 14px;
            line-height: 1.3;
        }

        .setting-value {
            color: #8E8E93;
            font-size: 16px;
            margin-left: 8px;
        }

        .setting-arrow {
            color: #666666;
            font-size: 16px;
            margin-left: 8px;
        }

        .setting-badge {
            background: #FF453A;
            color: #FFFFFF;
            font-size: 12px;
            font-weight: 600;
            padding: 2px 6px;
            border-radius: 8px;
            margin-left: 8px;
            min-width: 16px;
            text-align: center;
        }

        .setting-toggle {
            width: 50px;
            height: 30px;
            background: #333333;
            border-radius: 15px;
            position: relative;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .setting-toggle.active {
            background: #34C759;
        }

        .setting-toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 26px;
            height: 26px;
            background: #FFFFFF;
            border-radius: 13px;
            transition: transform 0.3s ease;
        }

        .setting-toggle.active::after {
            transform: translateX(20px);
        }

        /* å±é™©æ“ä½œ */
        .danger-setting .setting-title {
            color: #FF453A;
        }

        .danger-setting .setting-icon {
            background: rgba(255, 69, 58, 0.2);
            color: #FF453A;
        }

        /* å­˜å‚¨ä½¿ç”¨æƒ…å†µ */
        .storage-item {
            padding: 16px;
            border-bottom: 1px solid #2A2A2A;
        }

        .storage-item:last-child {
            border-bottom: none;
        }

        .storage-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 8px;
        }

        .storage-name {
            color: #FFFFFF;
            font-size: 16px;
            font-weight: 500;
        }

        .storage-size {
            color: #8E8E93;
            font-size: 14px;
        }

        .storage-bar {
            width: 100%;
            height: 6px;
            background: #333333;
            border-radius: 3px;
            overflow: hidden;
        }

        .storage-fill {
            height: 100%;
            background: linear-gradient(90deg, #34C759, #FFC542);
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        /* ç‰ˆæœ¬ä¿¡æ¯ */
        .version-info {
            margin: 20px;
            padding: 20px;
            background: rgba(255, 197, 66, 0.1);
            border: 1px solid rgba(255, 197, 66, 0.2);
            border-radius: 16px;
            text-align: center;
        }

        .app-icon {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px auto;
            overflow: hidden;
        }

        .app-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 20px;
        }

        .app-name {
            color: #FFFFFF;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .app-version {
            color: #8E8E93;
            font-size: 14px;
            margin-bottom: 4px;
        }

        .app-build {
            color: #8E8E93;
            font-size: 12px;
        }

        /* æ»šåŠ¨æ¡æ ·å¼ */
        .settings-content::-webkit-scrollbar {
            width: 4px;
        }

        .settings-content::-webkit-scrollbar-track {
            background: transparent;
        }

        .settings-content::-webkit-scrollbar-thumb {
            background: rgba(255, 197, 66, 0.3);
            border-radius: 2px;
        }

        /* å“åº”å¼é€‚é… */
        @media (max-width: 414px) {
            .iphone-container {
                margin: 20px auto;
            }
            
            .user-card {
                margin: 16px;
                padding: 16px;
            }
            
            .search-container {
                padding: 12px 16px;
            }
            
            .settings-section {
                padding: 0 16px 16px 16px;
            }
            
            .version-info {
                margin: 16px;
                padding: 16px;
            }
        }

        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .setting-item {
            animation: fadeInUp 0.3s ease;
        }

        .setting-item:nth-child(1) { animation-delay: 0.1s; }
        .setting-item:nth-child(2) { animation-delay: 0.2s; }
        .setting-item:nth-child(3) { animation-delay: 0.3s; }
        .setting-item:nth-child(4) { animation-delay: 0.4s; }
        .setting-item:nth-child(5) { animation-delay: 0.5s; }

        /* æ¨¡æ€æ¡†æ ·å¼ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .modal-content {
            background: #1C1C1E;
            border-radius: 20px;
            padding: 24px;
            max-width: 320px;
            width: 90%;
            text-align: center;
        }

        .modal-title {
            color: #FFFFFF;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .modal-message {
            color: #8E8E93;
            font-size: 14px;
            line-height: 1.4;
            margin-bottom: 24px;
        }

        .modal-actions {
            display: flex;
            gap: 12px;
        }

        .modal-btn {
            flex: 1;
            padding: 12px;
            border-radius: 12px;
            border: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-btn-cancel {
            background: rgba(255, 255, 255, 0.1);
            color: #FFFFFF;
        }

        .modal-btn-confirm {
            background: #FF453A;
            color: #FFFFFF;
        }

        .modal-btn:hover {
            transform: translateY(-1px);
        }

        /* é€‰æ‹©å™¨æ ·å¼ */
        .picker-modal .modal-content {
            max-width: 280px;
        }

        .picker-options {
            max-height: 200px;
            overflow-y: auto;
            margin: 16px 0 24px 0;
        }

        .picker-option {
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.05);
            margin: 4px 0;
            border-radius: 8px;
            color: #FFFFFF;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .picker-option:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .picker-option.selected {
            background: rgba(255, 197, 66, 0.2);
            color: #FFC542;
        }
    </style>
</head>
<body>
    <!-- iPhone 15 Pro å®¹å™¨ -->
    <div class="iphone-container">
        <!-- Dynamic Island -->
        <div class="dynamic-island"></div>
        
        <!-- ç‰©ç†æŒ‰é”® -->
        <div class="power-button"></div>
        <div class="volume-up"></div>
        <div class="volume-down"></div>
        <div class="action-button"></div>
        
        <!-- iPhone å±å¹• -->
        <div class="iphone-screen">
            <!-- iOSçŠ¶æ€æ  -->
            <div class="status-bar">
                <div class="status-left">9:41</div>
                <div class="status-right">
                    <span style="font-size: 16px;">â€¢â€¢â€¢</span>
                    <span style="font-size: 16px;">ğŸ“¶</span>
                    <span style="font-size: 16px;">ğŸ“¶</span>
                    <div class="battery">
                        <div class="battery-fill"></div>
                    </div>
                </div>
            </div>

            <!-- åº”ç”¨å†…å®¹åŒºåŸŸ -->
            <div class="app-container">
                <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
                <div class="nav-header">
                    <div class="nav-action" onclick="goBack()" title="è¿”å›">â†</div>
                    <h1 class="nav-title">è®¾ç½®</h1>
                    <div class="nav-action"></div>
                </div>

                <!-- è®¾ç½®å†…å®¹å®¹å™¨ -->
                <div class="settings-container">
                    <div class="settings-content">
                        <!-- æœç´¢æ  -->
                        <div class="search-container">
                            <div class="search-box" onclick="openSearchPage()" style="cursor: pointer;">
                                <span class="search-icon">ğŸ”</span>
                                <div class="search-placeholder" style="flex: 1; color: #9B9B9B; padding: 10px 16px;">æœç´¢è®¾ç½®...</div>
                            </div>
                        </div>

                        <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
                        <div class="user-card" onclick="openProfile()">
                            <div class="user-avatar">ğŸ‘¤</div>
                            <div class="user-info">
                                <div class="user-name">æ˜Ÿç©ºæ¢¦æƒ³å®¶</div>
                                <div class="user-status">âœ¨ åˆ›ä½œæ–°æ˜Ÿ</div>
                                <div class="user-id">ID: 20241215001</div>
                            </div>
                            <div class="setting-arrow">â€º</div>
                        </div>

                        <!-- è´¦æˆ·è®¾ç½® -->
                        <div class="settings-section">
                            <div class="section-title">è´¦æˆ·è®¾ç½®</div>
                            <div class="settings-group">
                                <div class="setting-item" onclick="openPersonalInfo()">
                                    <div class="setting-icon default">ğŸ‘¤</div>
                                    <div class="setting-content">
                                        <div class="setting-title">ä¸ªäººä¿¡æ¯</div>
                                        <div class="setting-description">ç¼–è¾‘å¤´åƒã€æ˜µç§°å’Œä¸ªäººç®€ä»‹</div>
                                    </div>
                                    <div class="setting-arrow">â€º</div>
                                </div>

                                <div class="setting-item" onclick="openSecurity()">
                                    <div class="setting-icon blue">ğŸ”’</div>
                                    <div class="setting-content">
                                        <div class="setting-title">å®‰å…¨ä¸éšç§</div>
                                        <div class="setting-description">å¯†ç ã€äºŒæ¬¡éªŒè¯å’Œéšç§è®¾ç½®</div>
                                    </div>
                                    <div class="setting-arrow">â€º</div>
                                </div>

                                <div class="setting-item" onclick="openMembership()">
                                    <div class="setting-icon orange">â­</div>
                                    <div class="setting-content">
                                        <div class="setting-title">ä¼šå‘˜ä¸è®¢é˜…</div>
                                        <div class="setting-description">ç®¡ç†VIPä¼šå‘˜å’Œè®¢é˜…æœåŠ¡</div>
                                    </div>
                                    <div class="setting-badge">VIP</div>
                                    <div class="setting-arrow">â€º</div>
                                </div>
                            </div>
                        </div>

                        <!-- åº”ç”¨åå¥½ -->
                        <div class="settings-section">
                            <div class="section-title">åº”ç”¨åå¥½</div>
                            <div class="settings-group">
                                <div class="setting-item">
                                    <div class="setting-icon green">ğŸŒ™</div>
                                    <div class="setting-content">
                                        <div class="setting-title">æš—é»‘æ¨¡å¼</div>
                                        <div class="setting-description">è‡ªåŠ¨è·Ÿéšç³»ç»Ÿè®¾ç½®</div>
                                    </div>
                                    <div class="setting-toggle active" onclick="toggleDarkMode(this)"></div>
                                </div>

                                <div class="setting-item" onclick="openLanguage()">
                                    <div class="setting-icon blue">ğŸŒ</div>
                                    <div class="setting-content">
                                        <div class="setting-title">è¯­è¨€è®¾ç½®</div>
                                        <div class="setting-description">é€‰æ‹©åº”ç”¨ç•Œé¢è¯­è¨€</div>
                                    </div>
                                    <div class="setting-value">ç®€ä½“ä¸­æ–‡</div>
                                    <div class="setting-arrow">â€º</div>
                                </div>

                                <div class="setting-item" onclick="openFontSize()">
                                    <div class="setting-icon purple">ğŸ”¤</div>
                                    <div class="setting-content">
                                        <div class="setting-title">å­—ä½“å¤§å°</div>
                                        <div class="setting-description">è°ƒæ•´æ–‡å­—æ˜¾ç¤ºå¤§å°</div>
                                    </div>
                                    <div class="setting-value">æ ‡å‡†</div>
                                    <div class="setting-arrow">â€º</div>
                                </div>

                                <div class="setting-item">
                                    <div class="setting-icon green">ğŸ””</div>
                                    <div class="setting-content">
                                        <div class="setting-title">æ¨é€é€šçŸ¥</div>
                                        <div class="setting-description">æ–°æ¶ˆæ¯å’Œæ›´æ–°æé†’</div>
                                    </div>
                                    <div class="setting-toggle active" onclick="toggleNotifications(this)"></div>
                                </div>

                                <div class="setting-item">
                                    <div class="setting-icon orange">ğŸµ</div>
                                    <div class="setting-content">
                                        <div class="setting-title">å£°éŸ³æ•ˆæœ</div>
                                        <div class="setting-description">ç‚¹å‡»éŸ³æ•ˆå’Œæç¤ºéŸ³</div>
                                    </div>
                                    <div class="setting-toggle" onclick="toggleSounds(this)"></div>
                                </div>

                                <div class="setting-item">
                                    <div class="setting-icon purple">ğŸ“³</div>
                                    <div class="setting-content">
                                        <div class="setting-title">è§¦è§‰åé¦ˆ</div>
                                        <div class="setting-description">ç‚¹å‡»æ—¶çš„éœ‡åŠ¨åé¦ˆ</div>
                                    </div>
                                    <div class="setting-toggle active" onclick="toggleHaptics(this)"></div>
                                </div>
                            </div>
                        </div>

                        <!-- åˆ›ä½œè®¾ç½® -->
                        <div class="settings-section">
                            <div class="section-title">åˆ›ä½œè®¾ç½®</div>
                            <div class="settings-group">
                                <div class="setting-item">
                                    <div class="setting-icon default">ğŸ¤–</div>
                                    <div class="setting-content">
                                        <div class="setting-title">AIå†™ä½œåŠ©æ‰‹</div>
                                        <div class="setting-description">æ™ºèƒ½åˆ›ä½œå»ºè®®å’Œè¯­æ³•æ£€æŸ¥</div>
                                    </div>
                                    <div class="setting-toggle active" onclick="toggleAIAssistant(this)"></div>
                                </div>

                                <div class="setting-item">
                                    <div class="setting-icon blue">ğŸ’¾</div>
                                    <div class="setting-content">
                                        <div class="setting-title">è‡ªåŠ¨ä¿å­˜</div>
                                        <div class="setting-description">è‡ªåŠ¨ä¿å­˜è‰ç¨¿ï¼Œé˜²æ­¢å†…å®¹ä¸¢å¤±</div>
                                    </div>
                                    <div class="setting-toggle active" onclick="toggleAutoSave(this)"></div>
                                </div>

                                <div class="setting-item" onclick="openWordCount()">
                                    <div class="setting-icon green">ğŸ“Š</div>
                                    <div class="setting-content">
                                        <div class="setting-title">å­—æ•°ç»Ÿè®¡</div>
                                        <div class="setting-description">æ˜¾ç¤ºåˆ›ä½œå­—æ•°å’Œé˜…è¯»æ—¶é—´</div>
                                    </div>
                                    <div class="setting-toggle active" onclick="toggleWordCount(this)"></div>
                                </div>
                            </div>
                        </div>

                        <!-- å­˜å‚¨ä¸ç¼“å­˜ -->
                        <div class="settings-section">
                            <div class="section-title">å­˜å‚¨ä¸ç¼“å­˜</div>
                            <div class="settings-group">
                                <div class="storage-item">
                                    <div class="storage-header">
                                        <div class="storage-name">åº”ç”¨æ•°æ®</div>
                                        <div class="storage-size">128 MB</div>
                                    </div>
                                    <div class="storage-bar">
                                        <div class="storage-fill" style="width: 25%;"></div>
                                    </div>
                                </div>

                                <div class="storage-item">
                                    <div class="storage-header">
                                        <div class="storage-name">ç¼“å­˜æ–‡ä»¶</div>
                                        <div class="storage-size">256 MB</div>
                                    </div>
                                    <div class="storage-bar">
                                        <div class="storage-fill" style="width: 50%;"></div>
                                    </div>
                                </div>

                                <div class="storage-item">
                                    <div class="storage-header">
                                        <div class="storage-name">ç¦»çº¿å†…å®¹</div>
                                        <div class="storage-size">89 MB</div>
                                    </div>
                                    <div class="storage-bar">
                                        <div class="storage-fill" style="width: 18%;"></div>
                                    </div>
                                </div>

                                <div class="setting-item" onclick="clearCache()">
                                    <div class="setting-icon orange">ğŸ—‘ï¸</div>
                                    <div class="setting-content">
                                        <div class="setting-title">æ¸…ç†ç¼“å­˜</div>
                                        <div class="setting-description">æ¸…é™¤ä¸´æ—¶æ–‡ä»¶å’Œç¼“å­˜æ•°æ®</div>
                                    </div>
                                    <div class="setting-arrow">â€º</div>
                                </div>
                            </div>
                        </div>

                        <!-- å¸®åŠ©ä¸æ”¯æŒ -->
                        <div class="settings-section">
                            <div class="section-title">å¸®åŠ©ä¸æ”¯æŒ</div>
                            <div class="settings-group">
                                <div class="setting-item" onclick="openHelp()">
                                    <div class="setting-icon blue">â“</div>
                                    <div class="setting-content">
                                        <div class="setting-title">å¸®åŠ©ä¸­å¿ƒ</div>
                                        <div class="setting-description">å¸¸è§é—®é¢˜è§£ç­”å’Œä½¿ç”¨æŒ‡å—</div>
                                    </div>
                                    <div class="setting-arrow">â€º</div>
                                </div>

                                <div class="setting-item" onclick="contactSupport()">
                                    <div class="setting-icon green">ğŸ’¬</div>
                                    <div class="setting-content">
                                        <div class="setting-title">è”ç³»å®¢æœ</div>
                                        <div class="setting-description">åœ¨çº¿å®¢æœå’ŒæŠ€æœ¯æ”¯æŒ</div>
                                    </div>
                                    <div class="setting-arrow">â€º</div>
                                </div>

                                <div class="setting-item" onclick="sendFeedback()">
                                    <div class="setting-icon purple">ğŸ“</div>
                                    <div class="setting-content">
                                        <div class="setting-title">æ„è§åé¦ˆ</div>
                                        <div class="setting-description">å¸®åŠ©æˆ‘ä»¬æ”¹è¿›åº”ç”¨ä½“éªŒ</div>
                                    </div>
                                    <div class="setting-arrow">â€º</div>
                                </div>

                                <div class="setting-item" onclick="rateApp()">
                                    <div class="setting-icon orange">â­</div>
                                    <div class="setting-content">
                                        <div class="setting-title">ä¸ºåº”ç”¨è¯„åˆ†</div>
                                        <div class="setting-description">åœ¨åº”ç”¨å•†åº—ç»™æˆ‘ä»¬è¯„åˆ†</div>
                                    </div>
                                    <div class="setting-arrow">â€º</div>
                                </div>
                            </div>
                        </div>

                        <!-- é«˜çº§è®¾ç½® -->
                        <div class="settings-section">
                            <div class="section-title">é«˜çº§è®¾ç½®</div>
                            <div class="settings-group">
                                <div class="setting-item" onclick="openDeveloper()">
                                    <div class="setting-icon purple">âš™ï¸</div>
                                    <div class="setting-content">
                                        <div class="setting-title">å¼€å‘è€…é€‰é¡¹</div>
                                        <div class="setting-description">è°ƒè¯•æ¨¡å¼å’Œå®éªŒæ€§åŠŸèƒ½</div>
                                    </div>
                                    <div class="setting-arrow">â€º</div>
                                </div>

                                <div class="setting-item" onclick="exportData()">
                                    <div class="setting-icon blue">ğŸ“¤</div>
                                    <div class="setting-content">
                                        <div class="setting-title">å¯¼å‡ºæ•°æ®</div>
                                        <div class="setting-description">å¯¼å‡ºä¸ªäººæ•°æ®å’Œåˆ›ä½œå†…å®¹</div>
                                    </div>
                                    <div class="setting-arrow">â€º</div>
                                </div>

                                <div class="setting-item danger-setting" onclick="resetApp()">
                                    <div class="setting-icon red">ğŸ”„</div>
                                    <div class="setting-content">
                                        <div class="setting-title">é‡ç½®åº”ç”¨</div>
                                        <div class="setting-description">æ¢å¤æ‰€æœ‰è®¾ç½®åˆ°é»˜è®¤çŠ¶æ€</div>
                                    </div>
                                    <div class="setting-arrow">â€º</div>
                                </div>

                                <div class="setting-item danger-setting" onclick="deleteAccount()">
                                    <div class="setting-icon red">ğŸ—‘ï¸</div>
                                    <div class="setting-content">
                                        <div class="setting-title">åˆ é™¤è´¦æˆ·</div>
                                        <div class="setting-description">æ°¸ä¹…åˆ é™¤è´¦æˆ·å’Œæ‰€æœ‰æ•°æ®</div>
                                    </div>
                                    <div class="setting-arrow">â€º</div>
                                </div>
                            </div>
                        </div>

                        <!-- ç‰ˆæœ¬ä¿¡æ¯ -->
                        <div class="version-info">
                            <div class="app-icon">
                                <img src="assets/images/logo.png" alt="æ˜Ÿè¶£Logo">
                            </div>
                            <div class="app-name">æ˜Ÿè¶£ - å‘ç°æœ‰è¶£çš„æ•…äº‹</div>
                            <div class="app-version">ç‰ˆæœ¬ 1.0.0 (Build 2024.12.15)</div>
                            <div class="app-build">Â© 2024 æ˜Ÿè¶£å›¢é˜Ÿ. ä¿ç•™æ‰€æœ‰æƒåˆ©.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ç¡®è®¤æ¨¡æ€æ¡† -->
    <div class="modal" id="confirmModal">
        <div class="modal-content">
            <div class="modal-title" id="modalTitle">ç¡®è®¤æ“ä½œ</div>
            <div class="modal-message" id="modalMessage">æ‚¨ç¡®å®šè¦æ‰§è¡Œæ­¤æ“ä½œå—ï¼Ÿ</div>
            <div class="modal-actions">
                <button class="modal-btn modal-btn-cancel" onclick="closeModal()">å–æ¶ˆ</button>
                <button class="modal-btn modal-btn-confirm" onclick="confirmAction()" id="confirmBtn">ç¡®è®¤</button>
            </div>
        </div>
    </div>

    <!-- é€‰æ‹©å™¨æ¨¡æ€æ¡† -->
    <div class="modal picker-modal" id="pickerModal">
        <div class="modal-content">
            <div class="modal-title" id="pickerTitle">é€‰æ‹©é€‰é¡¹</div>
            <div class="picker-options" id="pickerOptions">
                <!-- é€‰é¡¹å°†åŠ¨æ€æ·»åŠ  -->
            </div>
            <div class="modal-actions">
                <button class="modal-btn modal-btn-cancel" onclick="closePicker()">å–æ¶ˆ</button>
                <button class="modal-btn modal-btn-confirm" onclick="confirmPicker()">ç¡®è®¤</button>
            </div>
        </div>
    </div>

    <script>
        /**
         * è®¾ç½®é¡µé¢äº¤äº’é€»è¾‘
         * åŒ…å«å„ç§è®¾ç½®é¡¹çš„ç®¡ç†ã€å¼€å…³åˆ‡æ¢ã€æ¨¡æ€æ¡†æ“ä½œç­‰åŠŸèƒ½
         * @description iPhone15proæ ·å¼çš„è®¾ç½®é¡µé¢
         */

        // DOMå…ƒç´ å¼•ç”¨
        const searchInput = document.getElementById('searchInput');
        const confirmModal = document.getElementById('confirmModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalMessage = document.getElementById('modalMessage');
        const confirmBtn = document.getElementById('confirmBtn');
        const pickerModal = document.getElementById('pickerModal');
        const pickerTitle = document.getElementById('pickerTitle');
        const pickerOptions = document.getElementById('pickerOptions');

        // çŠ¶æ€ç®¡ç†
        let currentSearchQuery = '';
        let currentAction = null;
        let currentPickerType = null;
        let selectedOption = null;

        // è®¾ç½®æ•°æ®
        const settingsData = {
            darkMode: true,
            notifications: true,
            sounds: false,
            haptics: true,
            aiAssistant: true,
            autoSave: true,
            wordCount: true,
            language: 'ç®€ä½“ä¸­æ–‡',
            fontSize: 'æ ‡å‡†'
        };

        // é¡µé¢åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('è®¾ç½®é¡µé¢å·²åŠ è½½ - iPhone15proæ ·å¼');
            initEventListeners();
            loadSettings();
        });

        /**
         * åˆå§‹åŒ–äº‹ä»¶ç›‘å¬å™¨
         * @description ç»‘å®šæ‰€æœ‰è®¾ç½®ç›¸å…³äº‹ä»¶
         */
        function initEventListeners() {
            // æœç´¢åŠŸèƒ½
            searchInput.addEventListener('input', handleSearch);
            searchInput.addEventListener('focus', function() {
                this.parentElement.style.transform = 'scale(1.02)';
            });
            searchInput.addEventListener('blur', function() {
                this.parentElement.style.transform = 'scale(1)';
            });

            // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            confirmModal.addEventListener('click', function(e) {
                if (e.target === confirmModal) {
                    closeModal();
                }
            });

            pickerModal.addEventListener('click', function(e) {
                if (e.target === pickerModal) {
                    closePicker();
                }
            });

            // é”®ç›˜äº‹ä»¶
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeModal();
                    closePicker();
                }
            });
        }

        /**
         * å¤„ç†æœç´¢
         * @description æœç´¢è®¾ç½®é¡¹
         */
        function handleSearch() {
            const query = searchInput.value.trim().toLowerCase();
            currentSearchQuery = query;
            
            const settingItems = document.querySelectorAll('.setting-item, .storage-item');
            const sections = document.querySelectorAll('.settings-section');
            
            if (query === '') {
                // æ˜¾ç¤ºæ‰€æœ‰è®¾ç½®é¡¹å’Œåˆ†ç»„
                settingItems.forEach(item => {
                    item.style.display = 'flex';
                });
                sections.forEach(section => {
                    section.style.display = 'block';
                });
            } else {
                // è¿‡æ»¤è®¾ç½®é¡¹
                sections.forEach(section => {
                    let hasVisibleItems = false;
                    const items = section.querySelectorAll('.setting-item, .storage-item');
                    
                    items.forEach(item => {
                        const title = item.querySelector('.setting-title, .storage-name')?.textContent.toLowerCase();
                        const desc = item.querySelector('.setting-description')?.textContent.toLowerCase();
                        
                        if ((title && title.includes(query)) || (desc && desc.includes(query))) {
                            item.style.display = 'flex';
                            hasVisibleItems = true;
                        } else {
                            item.style.display = 'none';
                        }
                    });
                    
                    section.style.display = hasVisibleItems ? 'block' : 'none';
                });
            }
            
            console.log('æœç´¢è®¾ç½®:', query);
        }

        /**
         * åŠ è½½è®¾ç½®
         * @description åˆå§‹åŒ–åŠ è½½è®¾ç½®æ•°æ®
         */
        function loadSettings() {
            console.log('åŠ è½½è®¾ç½®æ•°æ®');
            
            // æ›´æ–°å¼€å…³çŠ¶æ€
            updateToggleStates();
        }

        /**
         * æ›´æ–°å¼€å…³çŠ¶æ€
         * @description æ ¹æ®è®¾ç½®æ•°æ®æ›´æ–°æ‰€æœ‰å¼€å…³çš„çŠ¶æ€
         */
        function updateToggleStates() {
            const toggles = document.querySelectorAll('.setting-toggle');
            
            toggles.forEach((toggle, index) => {
                const keys = ['darkMode', 'notifications', 'sounds', 'haptics', 'aiAssistant', 'autoSave', 'wordCount'];
                const key = keys[index];
                
                if (key && settingsData[key]) {
                    toggle.classList.add('active');
                } else if (key) {
                    toggle.classList.remove('active');
                }
            });
        }

        /**
         * æ‰“å¼€æœç´¢é¡µé¢
         * @description è·³è½¬åˆ°æœç´¢é¡µé¢
         */
        function openSearchPage() {
            console.log('è·³è½¬åˆ°æœç´¢é¡µé¢');
            window.location.href = 'search.html';
        }

        /**
         * è¿”å›ä¸Šä¸€é¡µ
         * @description è¿”å›åˆ°ä¸ªäººä¸­å¿ƒæˆ–ä¸»é¡µ
         */
        function goBack() {
            console.log('è¿”å›ä¸Šä¸€é¡µ');
            showToast('æ­£åœ¨è¿”å›...');
            setTimeout(() => {
                window.location.href = 'profile.html';
            }, 500);
        }

        /**
         * æ‰“å¼€ä¸ªäººèµ„æ–™
         * @description è·³è½¬åˆ°ä¸ªäººèµ„æ–™é¡µé¢
         */
        function openProfile() {
            console.log('æ‰“å¼€ä¸ªäººèµ„æ–™');
            showToast('æ­£åœ¨æ‰“å¼€ä¸ªäººèµ„æ–™...');
            setTimeout(() => {
                window.location.href = 'profile.html';
            }, 800);
        }

        /**
         * åˆ‡æ¢æš—é»‘æ¨¡å¼
         * @param {Element} toggle - åˆ‡æ¢æŒ‰é’®å…ƒç´ 
         */
        function toggleDarkMode(toggle) {
            event.stopPropagation(); // é˜»æ­¢äº‹ä»¶å†’æ³¡
            
            toggle.classList.toggle('active');
            settingsData.darkMode = toggle.classList.contains('active');
            
            if (settingsData.darkMode) {
                showToast('æš—é»‘æ¨¡å¼å·²å¼€å¯');
            } else {
                showToast('æš—é»‘æ¨¡å¼å·²å…³é—­');
            }
            
            console.log('åˆ‡æ¢æš—é»‘æ¨¡å¼:', settingsData.darkMode);
        }

        /**
         * åˆ‡æ¢é€šçŸ¥
         * @param {Element} toggle - åˆ‡æ¢æŒ‰é’®å…ƒç´ 
         */
        function toggleNotifications(toggle) {
            event.stopPropagation();
            
            toggle.classList.toggle('active');
            settingsData.notifications = toggle.classList.contains('active');
            
            if (settingsData.notifications) {
                showToast('æ¨é€é€šçŸ¥å·²å¼€å¯');
            } else {
                showToast('æ¨é€é€šçŸ¥å·²å…³é—­');
            }
            
            console.log('åˆ‡æ¢æ¨é€é€šçŸ¥:', settingsData.notifications);
        }

        /**
         * åˆ‡æ¢å£°éŸ³æ•ˆæœ
         * @param {Element} toggle - åˆ‡æ¢æŒ‰é’®å…ƒç´ 
         */
        function toggleSounds(toggle) {
            event.stopPropagation();
            
            toggle.classList.toggle('active');
            settingsData.sounds = toggle.classList.contains('active');
            
            if (settingsData.sounds) {
                showToast('å£°éŸ³æ•ˆæœå·²å¼€å¯');
                if (navigator.vibrate) {
                    navigator.vibrate(50);
                }
            } else {
                showToast('å£°éŸ³æ•ˆæœå·²å…³é—­');
            }
            
            console.log('åˆ‡æ¢å£°éŸ³æ•ˆæœ:', settingsData.sounds);
        }

        /**
         * åˆ‡æ¢è§¦è§‰åé¦ˆ
         * @param {Element} toggle - åˆ‡æ¢æŒ‰é’®å…ƒç´ 
         */
        function toggleHaptics(toggle) {
            event.stopPropagation();
            
            toggle.classList.toggle('active');
            settingsData.haptics = toggle.classList.contains('active');
            
            if (settingsData.haptics) {
                showToast('è§¦è§‰åé¦ˆå·²å¼€å¯');
                if (navigator.vibrate) {
                    navigator.vibrate(50);
                }
            } else {
                showToast('è§¦è§‰åé¦ˆå·²å…³é—­');
            }
            
            console.log('åˆ‡æ¢è§¦è§‰åé¦ˆ:', settingsData.haptics);
        }

        /**
         * åˆ‡æ¢AIåŠ©æ‰‹
         * @param {Element} toggle - åˆ‡æ¢æŒ‰é’®å…ƒç´ 
         */
        function toggleAIAssistant(toggle) {
            event.stopPropagation();
            
            toggle.classList.toggle('active');
            settingsData.aiAssistant = toggle.classList.contains('active');
            
            if (settingsData.aiAssistant) {
                showToast('AIå†™ä½œåŠ©æ‰‹å·²å¼€å¯');
            } else {
                showToast('AIå†™ä½œåŠ©æ‰‹å·²å…³é—­');
            }
            
            console.log('åˆ‡æ¢AIåŠ©æ‰‹:', settingsData.aiAssistant);
        }

        /**
         * åˆ‡æ¢è‡ªåŠ¨ä¿å­˜
         * @param {Element} toggle - åˆ‡æ¢æŒ‰é’®å…ƒç´ 
         */
        function toggleAutoSave(toggle) {
            event.stopPropagation();
            
            toggle.classList.toggle('active');
            settingsData.autoSave = toggle.classList.contains('active');
            
            if (settingsData.autoSave) {
                showToast('è‡ªåŠ¨ä¿å­˜å·²å¼€å¯');
            } else {
                showToast('è‡ªåŠ¨ä¿å­˜å·²å…³é—­');
            }
            
            console.log('åˆ‡æ¢è‡ªåŠ¨ä¿å­˜:', settingsData.autoSave);
        }

        /**
         * åˆ‡æ¢å­—æ•°ç»Ÿè®¡
         * @param {Element} toggle - åˆ‡æ¢æŒ‰é’®å…ƒç´ 
         */
        function toggleWordCount(toggle) {
            event.stopPropagation();
            
            toggle.classList.toggle('active');
            settingsData.wordCount = toggle.classList.contains('active');
            
            if (settingsData.wordCount) {
                showToast('å­—æ•°ç»Ÿè®¡å·²å¼€å¯');
            } else {
                showToast('å­—æ•°ç»Ÿè®¡å·²å…³é—­');
            }
            
            console.log('åˆ‡æ¢å­—æ•°ç»Ÿè®¡:', settingsData.wordCount);
        }

        /**
         * æ‰“å¼€è¯­è¨€è®¾ç½®
         * @description æ˜¾ç¤ºè¯­è¨€é€‰æ‹©å™¨
         */
        function openLanguage() {
            currentPickerType = 'language';
            pickerTitle.textContent = 'é€‰æ‹©è¯­è¨€';
            
            const languages = [
                { value: 'ç®€ä½“ä¸­æ–‡', label: 'ç®€ä½“ä¸­æ–‡' },
                { value: 'ç¹é«”ä¸­æ–‡', label: 'ç¹é«”ä¸­æ–‡' },
                { value: 'English', label: 'English' },
                { value: 'æ—¥æœ¬èª', label: 'æ—¥æœ¬èª' },
                { value: 'í•œêµ­ì–´', label: 'í•œêµ­ì–´' }
            ];
            
            showPicker(languages, settingsData.language);
            console.log('æ‰“å¼€è¯­è¨€è®¾ç½®');
        }

        /**
         * æ‰“å¼€å­—ä½“å¤§å°è®¾ç½®
         * @description æ˜¾ç¤ºå­—ä½“å¤§å°é€‰æ‹©å™¨
         */
        function openFontSize() {
            currentPickerType = 'fontSize';
            pickerTitle.textContent = 'é€‰æ‹©å­—ä½“å¤§å°';
            
            const sizes = [
                { value: 'è¾ƒå°', label: 'è¾ƒå°' },
                { value: 'æ ‡å‡†', label: 'æ ‡å‡†' },
                { value: 'è¾ƒå¤§', label: 'è¾ƒå¤§' },
                { value: 'ç‰¹å¤§', label: 'ç‰¹å¤§' }
            ];
            
            showPicker(sizes, settingsData.fontSize);
            console.log('æ‰“å¼€å­—ä½“å¤§å°è®¾ç½®');
        }

        /**
         * æ˜¾ç¤ºé€‰æ‹©å™¨
         * @param {Array} options - é€‰é¡¹åˆ—è¡¨
         * @param {string} current - å½“å‰é€‰ä¸­å€¼
         */
        function showPicker(options, current) {
            pickerOptions.innerHTML = '';
            selectedOption = current;
            
            options.forEach(option => {
                const optionEl = document.createElement('div');
                optionEl.className = 'picker-option';
                optionEl.textContent = option.label;
                optionEl.dataset.value = option.value;
                
                if (option.value === current) {
                    optionEl.classList.add('selected');
                }
                
                optionEl.addEventListener('click', function() {
                    document.querySelectorAll('.picker-option').forEach(el => {
                        el.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    selectedOption = this.dataset.value;
                });
                
                pickerOptions.appendChild(optionEl);
            });
            
            pickerModal.style.display = 'flex';
        }

        /**
         * å…³é—­é€‰æ‹©å™¨
         * @description å…³é—­é€‰æ‹©å™¨æ¨¡æ€æ¡†
         */
        function closePicker() {
            pickerModal.style.display = 'none';
            currentPickerType = null;
            selectedOption = null;
        }

        /**
         * ç¡®è®¤é€‰æ‹©å™¨
         * @description ç¡®è®¤é€‰æ‹©å™¨çš„é€‰æ‹©
         */
        function confirmPicker() {
            if (currentPickerType && selectedOption) {
                if (currentPickerType === 'language') {
                    settingsData.language = selectedOption;
                    document.querySelector('.setting-item .setting-value').textContent = selectedOption;
                    showToast(`è¯­è¨€å·²åˆ‡æ¢ä¸º${selectedOption}`);
                } else if (currentPickerType === 'fontSize') {
                    settingsData.fontSize = selectedOption;
                    const fontSizeItem = document.querySelectorAll('.setting-value')[1];
                    fontSizeItem.textContent = selectedOption;
                    showToast(`å­—ä½“å¤§å°å·²è°ƒæ•´ä¸º${selectedOption}`);
                }
                
                console.log('ç¡®è®¤é€‰æ‹©:', currentPickerType, selectedOption);
            }
            
            closePicker();
        }

        /**
         * æ¸…ç†ç¼“å­˜
         * @description æ¸…ç†åº”ç”¨ç¼“å­˜
         */
        function clearCache() {
            currentAction = 'clearCache';
            modalTitle.textContent = 'æ¸…ç†ç¼“å­˜';
            modalMessage.textContent = 'æ¸…ç†ç¼“å­˜å°†åˆ é™¤ä¸´æ—¶æ–‡ä»¶ï¼Œä½†ä¸ä¼šå½±å“æ‚¨çš„æ•°æ®ã€‚ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ';
            confirmBtn.textContent = 'æ¸…ç†';
            confirmModal.style.display = 'flex';
            
            console.log('å‡†å¤‡æ¸…ç†ç¼“å­˜');
        }

        /**
         * é‡ç½®åº”ç”¨
         * @description é‡ç½®åº”ç”¨åˆ°é»˜è®¤è®¾ç½®
         */
        function resetApp() {
            currentAction = 'resetApp';
            modalTitle.textContent = 'é‡ç½®åº”ç”¨';
            modalMessage.textContent = 'è¿™å°†æ¢å¤æ‰€æœ‰è®¾ç½®åˆ°é»˜è®¤çŠ¶æ€ï¼Œä½†ä¸ä¼šåˆ é™¤æ‚¨çš„è´¦æˆ·æ•°æ®ã€‚ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ';
            confirmBtn.textContent = 'é‡ç½®';
            confirmBtn.className = 'modal-btn modal-btn-confirm';
            confirmModal.style.display = 'flex';
            
            console.log('å‡†å¤‡é‡ç½®åº”ç”¨');
        }

        /**
         * åˆ é™¤è´¦æˆ·
         * @description åˆ é™¤ç”¨æˆ·è´¦æˆ·
         */
        function deleteAccount() {
            currentAction = 'deleteAccount';
            modalTitle.textContent = 'åˆ é™¤è´¦æˆ·';
            modalMessage.textContent = 'âš ï¸ æ­¤æ“ä½œä¸å¯é€†ï¼åˆ é™¤è´¦æˆ·å°†æ°¸ä¹…åˆ é™¤æ‚¨çš„æ‰€æœ‰æ•°æ®ï¼ŒåŒ…æ‹¬åˆ›ä½œå†…å®¹å’Œä¸ªäººä¿¡æ¯ã€‚ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ';
            confirmBtn.textContent = 'åˆ é™¤';
            confirmBtn.style.background = '#FF453A';
            confirmModal.style.display = 'flex';
            
            console.log('å‡†å¤‡åˆ é™¤è´¦æˆ·');
        }

        /**
         * ç¡®è®¤æ“ä½œ
         * @description æ‰§è¡Œç¡®è®¤çš„æ“ä½œ
         */
        function confirmAction() {
            if (currentAction === 'clearCache') {
                showToast('æ­£åœ¨æ¸…ç†ç¼“å­˜...');
                setTimeout(() => {
                    showToast('ç¼“å­˜æ¸…ç†å®Œæˆ');
                    // æ›´æ–°å­˜å‚¨æ˜¾ç¤º
                    const cacheFill = document.querySelectorAll('.storage-fill')[1];
                    cacheFill.style.width = '10%';
                    const cacheSize = document.querySelectorAll('.storage-size')[1];
                    cacheSize.textContent = '32 MB';
                }, 2000);
            } else if (currentAction === 'resetApp') {
                showToast('æ­£åœ¨é‡ç½®åº”ç”¨...');
                setTimeout(() => {
                    showToast('åº”ç”¨å·²é‡ç½®åˆ°é»˜è®¤è®¾ç½®');
                    // é‡ç½®æ‰€æœ‰è®¾ç½®
                    Object.keys(settingsData).forEach(key => {
                        if (typeof settingsData[key] === 'boolean') {
                            settingsData[key] = true;
                        }
                    });
                    updateToggleStates();
                }, 2000);
            } else if (currentAction === 'deleteAccount') {
                showToast('æ­£åœ¨åˆ é™¤è´¦æˆ·...');
                setTimeout(() => {
                    showToast('è´¦æˆ·å·²åˆ é™¤');
                    setTimeout(() => {
                        window.location.href = 'login.html';
                    }, 1500);
                }, 2000);
            }
            
            closeModal();
        }

        /**
         * å…³é—­æ¨¡æ€æ¡†
         * @description å…³é—­ç¡®è®¤æ¨¡æ€æ¡†
         */
        function closeModal() {
            confirmModal.style.display = 'none';
            currentAction = null;
        }

        // å…¶ä»–è®¾ç½®é¡¹å¤„ç†å‡½æ•°
        function openPersonalInfo() {
            showToast('ä¸ªäººä¿¡æ¯è®¾ç½®');
            console.log('æ‰“å¼€ä¸ªäººä¿¡æ¯è®¾ç½®');
        }

        function openSecurity() {
            showToast('å®‰å…¨ä¸éšç§è®¾ç½®');
            console.log('æ‰“å¼€å®‰å…¨è®¾ç½®');
        }

        function openMembership() {
            showToast('ä¼šå‘˜ä¸è®¢é˜…ç®¡ç†');
            console.log('æ‰“å¼€ä¼šå‘˜è®¾ç½®');
        }

        function openWordCount() {
            showToast('å­—æ•°ç»Ÿè®¡è®¾ç½®');
            console.log('æ‰“å¼€å­—æ•°ç»Ÿè®¡è®¾ç½®');
        }

        function openHelp() {
            showToast('å¸®åŠ©ä¸­å¿ƒ');
            console.log('æ‰“å¼€å¸®åŠ©ä¸­å¿ƒ');
        }

        function contactSupport() {
            showToast('è”ç³»å®¢æœ');
            console.log('è”ç³»å®¢æœ');
        }

        function sendFeedback() {
            showToast('æ„è§åé¦ˆ');
            console.log('å‘é€åé¦ˆ');
        }

        function rateApp() {
            showToast('æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼');
            console.log('åº”ç”¨è¯„åˆ†');
        }

        function openDeveloper() {
            showToast('å¼€å‘è€…é€‰é¡¹');
            console.log('æ‰“å¼€å¼€å‘è€…é€‰é¡¹');
        }

        function exportData() {
            showToast('æ­£åœ¨å¯¼å‡ºæ•°æ®...');
            console.log('å¯¼å‡ºæ•°æ®');
        }

        /**
         * æ˜¾ç¤ºæ¶ˆæ¯æç¤º
         * @param {string} message - æç¤ºæ¶ˆæ¯
         */
        function showToast(message) {
            // åˆ›å»ºæç¤ºå…ƒç´ 
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(0, 0, 0, 0.8);
                color: #FFC542;
                padding: 12px 24px;
                border-radius: 24px;
                font-size: 14px;
                z-index: 3000;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 197, 66, 0.3);
                animation: fadeInOut 2s ease;
            `;
            toast.textContent = message;
            
            // æ·»åŠ åŠ¨ç”»æ ·å¼
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeInOut {
                    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
                    20% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                    80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                    100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(toast);
            
            // è‡ªåŠ¨ç§»é™¤
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.remove();
                }
                if (style.parentNode) {
                    style.remove();
                }
            }, 2000);
        }

        // é¡µé¢å¸è½½æ—¶çš„æ¸…ç†å·¥ä½œ
        window.addEventListener('beforeunload', function() {
            console.log('è®¾ç½®é¡µé¢å¸è½½');
        });

        // é¡µé¢å¯è§æ€§å˜åŒ–å¤„ç†
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden) {
                // é¡µé¢é‡æ–°å¯è§æ—¶åˆ·æ–°è®¾ç½®æ•°æ®
                loadSettings();
            }
        });
    </script>
</body>
</html> 